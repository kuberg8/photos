(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5,7],{343:function(t,e,n){var content=n(346);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("73efa4ec",content,!0,{sourceMap:!1})},344:function(t,e,n){"use strict";n.r(e);var o={props:{title:{type:String,default:""},image:{type:String,default:""},alignItems:{type:String,default:"flex-end"}}},r=(n(345),n(27)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"intro",style:{backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3) ), url(".concat(t.image,")"),alignItems:t.alignItems}},[t._t("default",(function(){return[e("h1",{staticClass:"title"},[t._v(t._s(t.title))])]}))],2)}),[],!1,null,"b74cc18e",null);e.default=component.exports},345:function(t,e,n){"use strict";n(343)},346:function(t,e,n){var o=n(45)((function(i){return i[1]}));o.push([t.i,".intro[data-v-b74cc18e]{background-position:50%;background-repeat:no-repeat;background-size:cover;color:#fff;display:flex;justify-content:center;min-height:100vh;padding:80px;position:relative;text-align:center;width:100%}.intro .title[data-v-b74cc18e]{animation:translateY 1s}.intro a[data-v-b74cc18e]{transition:opacity .2s}.intro a[data-v-b74cc18e]:hover{color:#fff;opacity:.8}",""]),o.locals={},t.exports=o},356:function(t,e,n){var content=n(363);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("1151ee1f",content,!0,{sourceMap:!1})},360:function(t,e){t.exports="data:image/svg+xml;base64,PHN2Zwp4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCndpZHRoPSIxOCIKaGVpZ2h0PSIxOCIKdmlld0JveD0iMCAwIDE4IDE4Igo+CjxwYXRoCmZpbGw9Im5vbmUiCmZpbGwtcnVsZT0iZXZlbm9kZCIKc3Ryb2tlPSIjMDAwIgpzdHJva2UtbGluZWNhcD0icm91bmQiCnN0cm9rZS1saW5lam9pbj0icm91bmQiCnN0cm9rZS13aWR0aD0iMS41IgpkPSJNOSA5LjVsOC04LTggOC04LTggOCA4em0wIDBsOCA4LTgtOC04IDggOC04eiIKPjwvcGF0aD4KPC9zdmc+"},361:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIyNyIgdmlld0JveD0iMCAwIDE2IDI3Ij4KPHBhdGgKc3Ryb2tlPSJub25lIgpkPSJNMjgxNSwxMTQxLjEzbC0xMy44NiwxMi44Ni0yLjEzLTIuMTMsMTEuNzgtMTAuOTMtMTEuNzktMTEuOCwyLjEzLTIuMTMsMTMuODYsMTMuODYtMC4xMy4xNFoiCnRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzk5IC0xMTI3KSIKLz4KPC9zdmc+"},362:function(t,e,n){"use strict";n(356)},363:function(t,e,n){var o=n(45)((function(i){return i[1]}));o.push([t.i,".modal[data-v-23644191]{background:#fff;height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:100}.modal .svg[data-v-23644191]{height:25px;width:25px}.modal .img[data-v-23644191],.modal .svg[data-v-23644191]{-o-object-fit:contain;object-fit:contain}.modal .img[data-v-23644191]{bottom:0;left:0;margin:auto;max-height:90vh;max-width:60vw;position:fixed;right:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.modal .close[data-v-23644191]{right:5vh;top:5vh;z-index:102}.modal .button[data-v-23644191],.modal .close[data-v-23644191]{cursor:pointer;position:fixed}.modal .button[data-v-23644191]{align-items:center;display:flex;height:100vh;justify-content:center;top:0;width:10vw;z-index:101}.modal .next[data-v-23644191]{right:0}.modal .prev[data-v-23644191]{left:0;transform:rotate(180deg)}",""]),o.locals={},t.exports=o},366:function(t,e,n){"use strict";n.r(e);n(124);var o=n(360),r=n.n(o),l=n(361),c=n.n(l),d={props:{images:{type:Array,default:function(){return[]}},imageIndex:{type:Number,default:null,require:!0}},mounted:function(){window.addEventListener("keydown",this.handleKeyPress)},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyPress)},data:function(){return{leftNumber:0===this.imageIndex?0:this.imageIndex-1,rightNumber:this.imageIndex===this.images.length-1?this.images.length:this.imageIndex+1,svgClose:r.a,svgArrow:c.a}},methods:{prevImg:function(){this.$emit("prev"),this.leftNumber>0&&this.leftNumber--},nextImg:function(){this.$emit("next"),this.rightNumber<this.images.length-1&&this.rightNumber++},handleKeyPress:function(t){switch(t.key){case"ArrowRight":this.nextImg();break;case"ArrowLeft":this.prevImg();break;case"Escape":this.$emit("close")}}},computed:{isFirstImage:function(){return 0===this.imageIndex},isLastImage:function(){return this.imageIndex===this.images.length-1}}},m=(n(362),n(27)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"page"}},[t.imageIndex||0==t.imageIndex?e("div",{staticClass:"modal"},[e("transition-group",{attrs:{name:"fade"}},t._l(t.images,(function(n){return e("img",{directives:[{name:"show",rawName:"v-show",value:n===t.images[t.imageIndex],expression:"item === images[imageIndex]"}],key:n,staticClass:"img",attrs:{src:n}})})),0),t._v(" "),t.isFirstImage?t._e():e("div",{staticClass:"button prev",on:{click:t.prevImg}},[e("img",{staticClass:"svg",attrs:{src:t.svgArrow}})]),t._v(" "),t.isLastImage?t._e():e("div",{staticClass:"button next",on:{click:t.nextImg}},[e("img",{staticClass:"svg",attrs:{src:t.svgArrow}})]),t._v(" "),e("img",{staticClass:"close svg",attrs:{src:t.svgClose},on:{click:function(e){return t.$emit("close")}}})],1):t._e()])}),[],!1,null,"23644191",null);e.default=component.exports},371:function(t,e,n){var content=n(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("3a6dc9f6",content,!0,{sourceMap:!1})},384:function(t,e,n){"use strict";n(371)},385:function(t,e,n){var o=n(45)((function(i){return i[1]}));o.push([t.i,".grid[data-v-7ab2c7a2]{grid-gap:50px;display:grid;gap:50px;grid-auto-rows:minmax(200px,auto);grid-template-columns:repeat(auto-fill,minmax(250px,1fr));margin:0 auto;padding:50px}.grid .tall-panel[data-v-7ab2c7a2]{grid-row-end:span 2}.grid img[data-v-7ab2c7a2]{cursor:pointer}",""]),o.locals={},t.exports=o},401:function(t,e,n){"use strict";n.r(e);var o=n(76),r=(n(28),n(51),n(232),n(9),n(48),n(36),n(50),n(344)),l={components:{VModal:n(366).default,VIntro:r.default},data:function(){return{imageIndex:null,photos:[],cover:null,pageName:"",imgLoaded:!1}},mounted:function(){var t,e,n,r=this;this.pageName=null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e||null===(n=e.id)||void 0===n?void 0:n.replaceAll("_"," "),this.$axios.$get("/files?format=webp&path=".concat(decodeURIComponent(this.$route.path))).then((function(t){var e=Object(o.a)(t),n=e[0],l=e.slice(1);r.cover=n,r.photos=l})).finally((function(){return r.imgLoaded=!0}))},computed:{photosUrl:function(){return this.photos.map((function(t){return t.url}))}},head:function(){return{title:"Альбом | ".concat(this.pageName)}},methods:{load:function(t){var e=t.target;this.$root.setAnimation(e.parentElement)},getRandomColor:function(){var t=function(){return Math.floor(256*Math.random())},e=t(),g=t(),b=t();return"rgba(".concat(e,", ").concat(g,", ").concat(b,", 0.3)")}}},c=(n(384),n(27)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[t.cover?e("VIntro",{staticClass:"banner",attrs:{title:t.cover.customMetadata.albom,image:t.cover.url}}):t._e(),t._v(" "),t.imgLoaded?e("div",{staticClass:"grid"},t._l(t.photos,(function(image,n){return e("div",{key:n,class:{"tall-panel":image.height>image.width},style:{background:t.getRandomColor()}},[e("nuxt-img",{attrs:{src:image.url,loading:"lazy",format:"webp",quality:"10"},on:{click:function(e){t.imageIndex=n},load:t.load}})],1)})),0):t._e(),t._v(" "),"number"==typeof t.imageIndex?e("VModal",{attrs:{imageIndex:t.imageIndex,images:t.photosUrl},on:{next:function(e){t.imageIndex<t.photosUrl.length-1&&t.imageIndex++},prev:function(e){t.imageIndex>0&&t.imageIndex--},close:function(e){t.imageIndex=null}}}):t._e()],1)}),[],!1,null,"7ab2c7a2",null);e.default=component.exports;installComponents(component,{VIntro:n(344).default,VModal:n(366).default})}}]);